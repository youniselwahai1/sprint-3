import express from "express";
import mysql from "mysql2";
import pug from "pug";

const app = express();
const port = 3000;

app.use(express.static("src/static"));

app.set("view engine", "pug");
app.set("views", "./src/static/views");

app.get("/", (req, res) => {
  res.render("home");
});

app.get("/population", (req, res) => {
  const populationData = [
    { city: "Casablanca", population: 3144909 },
    { city: "Rabat", population: 1655753 },
    { city: "Fes", population: 964891 },
    { city: "Sale", population: 903485 },
    { city: "Marrakesh", population: 839296 },
    { city: "Agadir", population: 698310 },
    { city: "Tangier", population: 688356 },
    { city: "Meknes", population: 545705 },
    { city: "Oujda-Angad", population: 405253 },
    { city: "Al Hoceima", population: 395644 },
    { city: "Kenitra", population: 366570 },
    { city: "Tetouan", population: 326261 },
    { city: "Temara", population: 313510 },
    { city: "Safi", population: 288163 },
    { city: "Sale Al Jadida", population: 200000 },
    { city: "Mohammedia", population: 187708 },
    { city: "Khouribga", population: 167673 },
    { city: "Beni Mellal", population: 166399 },
    { city: "Fes al Bali", population: 156000 },
    { city: "El Jadid", population: 147549 },
    { city: "Taza", population: 141890 },
    { city: "Nador", population: 129260 },
    { city: "Settat", population: 119082 },
    { city: "Larache", population: 109294 },
    { city: "Ksar El Kebir", population: 108753 },
    { city: "Khemisset", population: 106991 },
    { city: "Guelmim", population: 98229 },
    { city: "Berrechid", population: 93954 },
    { city: "Errachidia", population: 92374 },
    { city: "Oued Zem", population: 84910 },
    { city: "Al Fqih Ben Calah", population: 84072 },
    { city: "Taourirt", population: 82518 },
    { city: "Berkane", population: 80721 },
    { city: "Sidi Slimane", population: 79437 },
    { city: "Sidi Qacem", population: 74755 },
    { city: "Khenifra", population: 73906 },
    { city: "Ifrane", population: 73782 },
    { city: "Taroudant", population: 71133 },
    { city: "Essaouira", population: 70634 },
    { city: "Tiflet", population: 70010 },
    { city: "Oulad Teima", population: 66832 },
    { city: "Sefrou", population: 65150 },
    { city: "Youssoufia", population: 64910 },
    { city: "Tan-Tan", population: 61924 },
    { city: "Ouezzane", population: 58684 },
    { city: "Guercif", population: 57544 },
    { city: "Ouarzazat", population: 57245 },
    { city: "Tirhanimine", population: 55827 },
    { city: "Ouezzane", population: 58684 },
    { city: "Guercif", population: 57544 },
    { city: "Ouarzazat", population: 57245 },
    { city: "Tirhanimine", population: 55827 },
    { city: "Dakhla", population: 55618 },
    { city: "Tiznit", population: 55092 },
    { city: "Fnidek", population: 53559 },
    { city: "Azrou", population: 48249 },
    { city: "Midelt", population: 45159 },
    { city: "Skhirate", population: 44850 },
    { city: "Souq Larb'a al Gharb", population: 44059 },
    { city: "Jerada", population: 43696 },
    { city: "Smara", population: 42056 },
    { city: "Kasba Tadla", population: 41199 },
    { city: "Sidi Bennour", population: 40044 },
    { city: "Imzouren", population: 40000 },
    { city: "Martil", population: 39738 },
    { city: "Azemmour", population: 37140 },
    { city: "Tinghir", population: 36795 },
    { city: "Chefchaouen", population: 36280 },
    { city: "Al Aaroui", population: 36021 },
    { city: "El Aioun", population: 35196 },
    { city: "Zagora", population: 35154 },
    { city: "Taounate", population: 32802 },
    { city: "Sidi Yahia El Gharb", population: 32202 },
    { city: "Zaio", population: 30008 },
    { city: "Asilah", population: 28861 },
    { city: "Bouarfa", population: 28846 },
    { city: "El Hajeb", population: 28126 },
    { city: "Mechraa Bel Ksiri", population: 27802 },
    { city: "Bouznika", population: 27283 },
    { city: "Tahla", population: 25761 },
    { city: "Arfoud", population: 23637 },
    { city: "Setti Fatma", population: 22283 },
    { city: "Recani", population: 20469 },
    { city: "Sidi Ifni", population: 20000 },
    { city: "Ahfir", population: 19611 },
    { city: "Oulmes", population: 19014 },
    { city: "Bni Bouayach", population: 18271 },
    { city: "Ain Beni Mathar", population: 16289 },
    { city: "Boujniba", population: 15041 },
    { city: "Kelaat Mgouna", population: 14190 },
    { city: "Ifrane", population: 13000 },
    { city: "Zawyat an Nwacer", population: 12696 },
    { city: "Figuig (Centre)", population: 12516 },
    { city: "Targuist", population: 11560 },
    { city: "Midar", population: 10229 },
    { city: "Guercif", population: 57544 },
    { city: "Ouarzazat", population: 57245 },
    { city: "Tirhanimine", population: 55827 },
    { city: "Dakhla", population: 55618 },
    { city: "Tiznit", population: 55092 },
    { city: "Fnidek", population: 53559 },
    { city: "Azrou", population: 48249 },
    { city: "Midelt", population: 45159 },
    { city: "Skhirate", population: 44850 },
    { city: "Souq Larb'a al Gharb", population: 44059 },
    { city: "Jerada", population: 43696 },
    { city: "Smara", population: 42056 },
    { city: "Kasba Tadla", population: 41199 },
    { city: "Sidi Bennour", population: 40044 },
    { city: "Imzouren", population: 40000 },
    { city: "Martil", population: 39738 },
    { city: "Azemmour", population: 37140 },
    { city: "Tinghir", population: 36795 },
    { city: "Chefchaouen", population: 36280 },
    { city: "Al Aaroui", population: 36021 },
    { city: "El Aioun", population: 35196 },
    { city: "Zagora", population: 35154 },
    { city: "Taounate", population: 32802 },
    { city: "Sidi Yahia El Gharb", population: 32202 },
    { city: "Zaio", population: 30008 },
    { city: "Asilah", population: 28861 },
    { city: "Bouarfa", population: 28846 },
    { city: "El Hajeb", population: 28126 },
    { city: "Mechraa Bel Ksiri", population: 27802 },
    { city: "Bouznika", population: 27283 },
    { city: "Tahla", population: 25761 },
    { city: "Arfoud", population: 23637 },
    { city: "Setti Fatma", population: 22283 },
    { city: "Recani", population: 20469 },
    { city: "Sidi Ifni", population: 20000 },
    { city: "Ahfir", population: 19611 },
    { city: "Oulmes", population: 19014 },
    { city: "Bni Bouayach", population: 18271 },
    { city: "Ain Beni Mathar", population: 16289 },
    { city: "Boujniba", population: 15041 },
    { city: "Kelaat Mgouna", population: 14190 },
    { city: "Ifrane", population: 13000 },
    { city: "Zawyat an Nwacer", population: 12696 },
    { city: "Figuig (Centre)", population: 12516 },
    { city: "Targuist", population: 11560 },
    { city: "Midar", population: 10229 },
    { city: "Mhamid", population: 10000 },
    { city: "Cap Negro II", population: 10000 },
    { city: "Zag", population: 7751 },
    { city: "Gueltat Zemmour", population: 6740 },
    { city: "Oualidia", population: 5826 },
    { city: "Tarfaya", population: 5615 },
    { city: "Ain Leuh", population: 5278 },
    { city: "Taghazout", population: 5233 },
    { city: "Tafraout", population: 4924 },
    { city: "Oukaimedene", population: 4440 },
    { city: "Sidi Smai'il", population: 4279 },
    { city: "SAIDIA", population: 3871 },
    { city: "Mosquee", population: 3150 },
    { city: "Imlili", population: 2269 },
    { city: "Zawyat ech Cheikh", population: 2000 },
    { city: "Akhfennir", population: 1583 },
    { city: "Tmourghout", population: 1250 },
    { city: "Jebel Tiskaouine", population: 1197 }
    ];
    
    res.render("population", { data: populationData });
    });
app.get("/aboutus", (req, res) => {
  res.render("aboutus");
});

app.listen(port, () => {
  console.log(`Server listening at http://localhost:${3000}`);
});